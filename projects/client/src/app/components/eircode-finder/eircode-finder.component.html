<div class="eircode-finder-container">
  <div class="page-header">
    <h2>Eircode Finder</h2>
    <p class="description">Enter an Eircode to find the corresponding address</p>
  </div>

  <div class="finder-content">
    <div class="search-section">
      <div class="input-group">
        <input 
          type="text" 
          class="form-control"
          placeholder="Enter Eircode (e.g. D06 E7W4)" 
          [(ngModel)]="eircode" 
          (keyup.enter)="searchEircode()">
        <button 
          class="btn btn-primary search-btn" 
          (click)="searchEircode()" 
          [disabled]="isLoading">
          <i class="bi bi-search"></i>
          <span *ngIf="!isLoading">Search</span>
          <span *ngIf="isLoading">Searching...</span>
        </button>
      </div>

      <div *ngIf="error" class="alert alert-danger mt-3">
        {{ error }}
      </div>
    </div>

    <div *ngIf="addressData" class="results-section">
      <div class="card">
        <div class="card-header">
          <h3>Address Information</h3>
        </div>
        <div class="card-body">
          <div class="result-tabs">
            <ul class="nav nav-tabs" id="addressTabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" id="geographic-tab" data-bs-toggle="tab" 
                        data-bs-target="#geographic" type="button" role="tab" 
                        aria-controls="geographic" aria-selected="true">
                  Geographic Address
                </button>
              </li>
            </ul>
          </div>
          
          <div class="tab-content mt-4" id="addressTabContent">
            <div class="tab-pane fade show active" id="geographic" role="tabpanel" aria-labelledby="geographic-tab">
              <div class="address-info">
                <div class="address-line">
                  <h4>{{ addressData.address_line_1 || addressData.organisation_name }}</h4>
                  <button class="btn btn-sm btn-outline-primary copy-btn" 
                          (click)="copyToClipboard(addressData.address_line_1 || addressData.organisation_name, 'line1')">
                    <i class="bi" [ngClass]="copySuccess['line1'] ? 'bi-check' : 'bi-clipboard'"></i>
                  </button>
                </div>
                
                <div class="address-line" *ngIf="addressData.address_line_2">
                  <h4>{{ addressData.address_line_2 }}</h4>
                  <button class="btn btn-sm btn-outline-primary copy-btn"
                          (click)="copyToClipboard(addressData.address_line_2, 'line2')">
                    <i class="bi" [ngClass]="copySuccess['line2'] ? 'bi-check' : 'bi-clipboard'"></i>
                  </button>
                </div>
                
                <div class="address-line">
                  <h4>{{ addressData.post_town }}</h4>
                  <button class="btn btn-sm btn-outline-primary copy-btn"
                          (click)="copyToClipboard(addressData.post_town, 'town')">
                    <i class="bi" [ngClass]="copySuccess['town'] ? 'bi-check' : 'bi-clipboard'"></i>
                  </button>
                </div>
                
                <div class="address-line">
                  <h4>{{ eircode.toUpperCase() }}</h4>
                  <button class="btn btn-sm btn-outline-primary copy-btn"
                          (click)="copyToClipboard(eircode.toUpperCase(), 'eircode')">
                    <i class="bi" [ngClass]="copySuccess['eircode'] ? 'bi-check' : 'bi-clipboard'"></i>
                  </button>
                </div>
              </div>
              
              <div class="full-address mt-4">
                <div class="d-flex justify-content-between align-items-center">
                  <h5>Full Address</h5>
                  <button class="btn btn-primary" (click)="copyToClipboard(getFullAddress(), 'full')">
                    <i class="bi" [ngClass]="copySuccess['full'] ? 'bi-check' : 'bi-clipboard'"></i>
                    {{ copySuccess['full'] ? 'Copied!' : 'Copy Full Address' }}
                  </button>
                </div>
                <p class="address-text">{{ getFullAddress() }}</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div> 